{"code":"ECONNREFUSED","level":"error","message":"","service":"search-service","timestamp":"2025-10-07 13:51:14"}
{"date":"Tue Oct 07 2025 13:51:14 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","os":{"loadavg":[1.44,1.85,1.99],"uptime":24355.32},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":106830,"external":3442410,"heapTotal":30277632,"heapUsed":12974448,"rss":72822784},"pid":185413,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","timestamp":"2025-10-07 13:51:14","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":44,"method":null,"native":false}]}
{"date":"Tue Oct 07 2025 13:51:14 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","os":{"loadavg":[1.44,1.85,1.99],"uptime":24355.33},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":131406,"external":3466986,"heapTotal":30539776,"heapUsed":13452272,"rss":72822784},"pid":185413,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","timestamp":"2025-10-07 13:51:14","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":44,"method":null,"native":false}]}
{"code":"ECONNREFUSED","level":"error","message":"","service":"search-service","timestamp":"2025-10-08 07:15:39"}
{"date":"Wed Oct 08 2025 07:15:39 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","os":{"loadavg":[2.55,1.36,0.55],"uptime":188.18},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":106830,"external":3441228,"heapTotal":30539776,"heapUsed":11459880,"rss":73969664},"pid":11713,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","timestamp":"2025-10-08 07:15:39","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":44,"method":null,"native":false}]}
{"date":"Wed Oct 08 2025 07:15:39 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","os":{"loadavg":[2.55,1.36,0.55],"uptime":188.19},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":131406,"external":3465804,"heapTotal":30801920,"heapUsed":11897296,"rss":73969664},"pid":11713,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","timestamp":"2025-10-08 07:15:39","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":44,"method":null,"native":false}]}
{"level":"error","message":"connect ECONNREFUSED 127.0.0.1:6379","service":"search-service","timestamp":"2025-10-08 07:17:27"}
{"date":"Wed Oct 08 2025 07:17:27 GMT+0700 (Indochina Time)","error":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"port":6379,"syscall":"connect"},"level":"error","message":"unhandledRejection: connect ECONNREFUSED 127.0.0.1:6379\nError: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","os":{"loadavg":[2.61,1.75,0.78],"uptime":296.32},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":99958,"external":3457921,"heapTotal":30539776,"heapUsed":13999904,"rss":72060928},"pid":16509,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","timestamp":"2025-10-08 07:17:27","trace":[{"column":16,"file":"node:net","function":"TCPConnectWrap.afterConnect [as oncomplete]","line":1611,"method":"afterConnect [as oncomplete]","native":false}]}
{"date":"Wed Oct 08 2025 07:17:27 GMT+0700 (Indochina Time)","error":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"port":6379,"syscall":"connect"},"level":"error","message":"unhandledRejection: connect ECONNREFUSED 127.0.0.1:6379\nError: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","os":{"loadavg":[2.61,1.75,0.78],"uptime":296.32},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":108150,"external":3466113,"heapTotal":30539776,"heapUsed":14065024,"rss":72060928},"pid":16509,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","timestamp":"2025-10-08 07:17:27","trace":[{"column":16,"file":"node:net","function":"TCPConnectWrap.afterConnect [as oncomplete]","line":1611,"method":"afterConnect [as oncomplete]","native":false}]}
{"level":"error","message":"connect ECONNREFUSED 127.0.0.1:6379","service":"search-service","timestamp":"2025-10-08 07:17:55"}
{"date":"Wed Oct 08 2025 07:17:55 GMT+0700 (Indochina Time)","error":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"port":6379,"syscall":"connect"},"level":"error","message":"unhandledRejection: connect ECONNREFUSED 127.0.0.1:6379\nError: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","os":{"loadavg":[2.58,1.8,0.83],"uptime":323.91},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":99958,"external":3457921,"heapTotal":30801920,"heapUsed":14018000,"rss":72208384},"pid":17760,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","timestamp":"2025-10-08 07:17:55","trace":[{"column":16,"file":"node:net","function":"TCPConnectWrap.afterConnect [as oncomplete]","line":1611,"method":"afterConnect [as oncomplete]","native":false}]}
{"date":"Wed Oct 08 2025 07:17:55 GMT+0700 (Indochina Time)","error":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"port":6379,"syscall":"connect"},"level":"error","message":"unhandledRejection: connect ECONNREFUSED 127.0.0.1:6379\nError: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","os":{"loadavg":[2.58,1.8,0.83],"uptime":323.92},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":108150,"external":3466113,"heapTotal":30801920,"heapUsed":14081840,"rss":72208384},"pid":17760,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","timestamp":"2025-10-08 07:17:55","trace":[{"column":16,"file":"node:net","function":"TCPConnectWrap.afterConnect [as oncomplete]","line":1611,"method":"afterConnect [as oncomplete]","native":false}]}
{"level":"error","message":"connect ECONNREFUSED 127.0.0.1:6379","service":"search-service","timestamp":"2025-10-08 07:20:30"}
{"date":"Wed Oct 08 2025 07:20:30 GMT+0700 (Indochina Time)","error":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"port":6379,"syscall":"connect"},"level":"error","message":"unhandledRejection: connect ECONNREFUSED 127.0.0.1:6379\nError: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","os":{"loadavg":[1.96,1.77,0.96],"uptime":479.34},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":99958,"external":3456739,"heapTotal":30801920,"heapUsed":12137096,"rss":75526144},"pid":22958,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","timestamp":"2025-10-08 07:20:30","trace":[{"column":16,"file":"node:net","function":"TCPConnectWrap.afterConnect [as oncomplete]","line":1611,"method":"afterConnect [as oncomplete]","native":false}]}
{"date":"Wed Oct 08 2025 07:20:30 GMT+0700 (Indochina Time)","error":{"address":"127.0.0.1","code":"ECONNREFUSED","errno":-111,"port":6379,"syscall":"connect"},"level":"error","message":"unhandledRejection: connect ECONNREFUSED 127.0.0.1:6379\nError: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","os":{"loadavg":[1.96,1.77,0.96],"uptime":479.34},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":108150,"external":3464931,"heapTotal":30801920,"heapUsed":12200960,"rss":75526144},"pid":22958,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16)","timestamp":"2025-10-08 07:20:30","trace":[{"column":16,"file":"node:net","function":"TCPConnectWrap.afterConnect [as oncomplete]","line":1611,"method":"afterConnect [as oncomplete]","native":false}]}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-08 08:24:44"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-08 08:25:19"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at node:net:2206:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","syscall":"listen","timestamp":"2025-10-08 08:38:43"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1940:16)\n    at listenInCluster (node:net:1997:12)\n    at node:net:2206:7\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)","syscall":"listen","timestamp":"2025-10-08 08:39:36"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-08 08:40:35"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-08 08:43:24"}
{"code":"ECONNREFUSED","level":"error","message":"","service":"search-service","timestamp":"2025-10-09 08:15:24"}
{"date":"Thu Oct 09 2025 08:15:24 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","os":{"loadavg":[2.88,1.8,1.27],"uptime":3802.78},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":106830,"external":3442410,"heapTotal":30539776,"heapUsed":13487576,"rss":72364032},"pid":45521,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","timestamp":"2025-10-09 08:15:24","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":44,"method":null,"native":false}]}
{"date":"Thu Oct 09 2025 08:15:24 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","os":{"loadavg":[2.88,1.8,1.27],"uptime":3802.79},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":131406,"external":3466986,"heapTotal":30801920,"heapUsed":13920928,"rss":72364032},"pid":45521,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:44:3)","timestamp":"2025-10-09 08:15:24","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":44,"method":null,"native":false}]}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-09 14:37:19"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-09 14:37:59"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-09 14:39:41"}
{"code":"ECONNREFUSED","level":"error","message":"","service":"search-service","timestamp":"2025-10-11 22:31:44"}
{"date":"Sat Oct 11 2025 22:31:44 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[0.88,1.19,0.91],"uptime":857.3},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":106830,"external":3454465,"heapTotal":35258368,"heapUsed":19134216,"rss":86482944},"pid":23027,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-11 22:31:44","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"date":"Sat Oct 11 2025 22:31:44 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[0.88,1.19,0.91],"uptime":857.3},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":131406,"external":3479041,"heapTotal":35258368,"heapUsed":19319848,"rss":86614016},"pid":23027,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-11 22:31:44","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"code":"42P01","level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.detection_status,\n        m.detection_date,\n        m.verified_area,\n        m.verified_by,\n        m.verification_reason,\n        m.verification_notes,\n        r.huyen,\n        r.xa,\n        r.tinh,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry,\n        ST_X(ST_Centroid(ST_Transform(m.geom, 4326))) as center_lng,\n        ST_Y(ST_Centroid(ST_Transform(m.geom, 4326))) as center_lat,\n        ST_XMin(ST_Envelope(ST_Transform(m.geom, 4326))) as bbox_xmin,\n        ST_YMin(ST_Envelope(ST_Transform(m.geom, 4326))) as bbox_ymin,\n        ST_XMax(ST_Envelope(ST_Transform(m.geom, 4326))) as bbox_xmax,\n        ST_YMax(ST_Envelope(ST_Transform(m.geom, 4326))) as bbox_ymax\n      FROM mat_rung m\n      LEFT JOIN laocai_ranhgioihc r ON ST_Intersects(\n        ST_Transform(m.geom, 4326),\n        ST_Transform(r.geom, 4326)\n      )\n      WHERE m.gid = $1 AND m.geom IS NOT NULL\n    ","service":"search-service","timestamp":"2025-10-12 17:39:56"}
{"level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","method":"GET","name":"error","path":"/api/search/mat-rung/800","service":"search-service","stack":"error: relation \"laocai_ranhgioihc\" does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRungById (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:152:26)","statusCode":500,"timestamp":"2025-10-12 17:39:56"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-12 17:41:55"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-12 17:42:09"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-12 21:40:55"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-12 22:19:16"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-12 22:19:49"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-13 08:42:00"}
{"code":"ECONNREFUSED","level":"error","message":"","service":"search-service","timestamp":"2025-10-13 13:24:46"}
{"date":"Mon Oct 13 2025 13:24:46 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[3.11,1.36,0.53],"uptime":215.99},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":106830,"external":3454465,"heapTotal":50724864,"heapUsed":21345784,"rss":83529728},"pid":11636,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-13 13:24:46","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"date":"Mon Oct 13 2025 13:24:46 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[3.11,1.36,0.53],"uptime":215.99},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":131406,"external":3479041,"heapTotal":50987008,"heapUsed":21780080,"rss":83791872},"pid":11636,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-13 13:24:46","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"code":"42P01","level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.detection_status,\n        m.verification_notes,\n        r.huyen,\n        r.xa,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      LEFT JOIN laocai_ranhgioihc r ON ST_Intersects(\n        ST_Transform(m.geom, 4326),\n        ST_Transform(r.geom, 4326)\n      )\n      WHERE m.geom IS NOT NULL AND r.huyen = $1 AND r.xa = $2 AND m.detection_date >= $3 AND m.detection_date <= $4\n      ORDER BY m.gid DESC\n      LIMIT $5\n    ","service":"search-service","timestamp":"2025-10-13 14:17:04"}
{"level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: relation \"laocai_ranhgioihc\" does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:80:20)","statusCode":500,"timestamp":"2025-10-13 14:17:04"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-13 14:21:33"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-13 17:29:13"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-13 17:29:52"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-13 18:08:18"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-13 18:19:10"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-13 18:40:16"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-14 14:29:21"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-14 14:37:29"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-14 14:55:03"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-14 14:59:16"}
{"code":"ECONNREFUSED","level":"error","message":"","service":"search-service","timestamp":"2025-10-16 14:18:17"}
{"date":"Thu Oct 16 2025 14:18:17 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[1.76,1.6,1.38],"uptime":2427.24},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":106831,"external":3454466,"heapTotal":50462720,"heapUsed":20846776,"rss":84697088},"pid":54042,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-16 14:18:17","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"date":"Thu Oct 16 2025 14:18:17 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[1.76,1.6,1.38],"uptime":2427.24},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":131407,"external":3479042,"heapTotal":50462720,"heapUsed":21032680,"rss":84828160},"pid":54042,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-16 14:18:17","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"code":"ECONNREFUSED","level":"error","message":"","service":"search-service","timestamp":"2025-10-16 14:24:00"}
{"date":"Thu Oct 16 2025 14:24:00 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[2.41,1.63,1.43],"uptime":2770.98},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":106831,"external":3454466,"heapTotal":50987008,"heapUsed":20718808,"rss":85884928},"pid":60461,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-16 14:24:00","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"date":"Thu Oct 16 2025 14:24:00 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[2.41,1.63,1.43],"uptime":2770.98},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":131407,"external":3479042,"heapTotal":50987008,"heapUsed":20914752,"rss":86016000},"pid":60461,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-16 14:24:00","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"code":"ECONNREFUSED","level":"error","message":"","service":"search-service","timestamp":"2025-10-16 14:24:15"}
{"date":"Thu Oct 16 2025 14:24:15 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[2.19,1.6,1.42],"uptime":2785.21},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":106831,"external":3454466,"heapTotal":50724864,"heapUsed":20872248,"rss":85610496},"pid":61428,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-16 14:24:15","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"date":"Thu Oct 16 2025 14:24:15 GMT+0700 (Indochina Time)","error":{"code":"ECONNREFUSED"},"level":"error","message":"unhandledRejection: (no error message)\nAggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","os":{"loadavg":[2.19,1.6,1.42],"uptime":2785.22},"process":{"argv":["/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js"],"cwd":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service","execPath":"/home/luckyboiz/.nvm/versions/node/v20.19.5/bin/node","gid":1000,"memoryUsage":{"arrayBuffers":131407,"external":3479042,"heapTotal":50724864,"heapUsed":21067656,"rss":85872640},"pid":61428,"uid":1000,"version":"v20.19.5"},"rejection":true,"service":"search-service","stack":"AggregateError [ECONNREFUSED]: \n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.testConnection (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:61:22)\n    at async DatabaseManager.initialize (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:53:5)\n    at async startServer (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js:55:3)","timestamp":"2025-10-16 14:24:15","trace":[{"column":11,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js","function":null,"line":45,"method":null,"native":false},{"column":5,"file":"node:internal/process/task_queues","function":"process.processTicksAndRejections","line":95,"method":"processTicksAndRejections","native":false},{"column":22,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.testConnection","line":61,"method":"testConnection","native":false},{"column":5,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js","function":"async DatabaseManager.initialize","line":53,"method":"initialize","native":false},{"column":3,"file":"/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/index.js","function":"async startServer","line":55,"method":null,"native":false}]}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-22 12:18:33"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-22 13:48:39"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-22 13:49:34"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-22 14:10:46"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-22 14:29:38"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-22 14:42:36"}
{"code":"42703","level":"error","message":"column m.maxa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.maxa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL AND m.detection_date >= $1 AND m.detection_date <= $2 AND m.mahuyen = $3 AND m.maxa = $4\n      ORDER BY m.gid DESC\n      LIMIT $5\n    ","service":"search-service","timestamp":"2025-10-22 16:14:29"}
{"level":"error","message":"column m.maxa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.maxa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:14:29"}
{"code":"42703","level":"error","message":"column m.maxa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.maxa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL AND m.detection_date >= $1 AND m.detection_date <= $2 AND m.mahuyen = $3 AND m.maxa = $4\n      ORDER BY m.gid DESC\n      LIMIT $5\n    ","service":"search-service","timestamp":"2025-10-22 16:14:51"}
{"level":"error","message":"column m.maxa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.maxa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:14:51"}
{"code":"42703","level":"error","message":"column m.maxa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.maxa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL AND m.detection_date >= $1 AND m.detection_date <= $2 AND m.mahuyen = $3\n      ORDER BY m.gid DESC\n      LIMIT $4\n    ","service":"search-service","timestamp":"2025-10-22 16:15:13"}
{"level":"error","message":"column m.maxa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.maxa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:15:13"}
{"code":"42703","level":"error","message":"column m.maxa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.maxa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL AND m.detection_date >= $1 AND m.detection_date <= $2\n      ORDER BY m.gid DESC\n      LIMIT $3\n    ","service":"search-service","timestamp":"2025-10-22 16:15:36"}
{"level":"error","message":"column m.maxa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.maxa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:15:36"}
{"code":"42703","level":"error","message":"column m.maxa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.maxa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:15:58"}
{"level":"error","message":"column m.maxa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.maxa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:15:58"}
{"code":"42703","level":"error","message":"column m.maxa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.maxa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:16:19"}
{"level":"error","message":"column m.maxa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.maxa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:16:19"}
{"code":"42703","level":"error","message":"column m.maxa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.maxa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:16:42"}
{"level":"error","message":"column m.maxa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.maxa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:16:42"}
{"code":"42703","level":"error","message":"column m.xa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.xa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:17:33"}
{"level":"error","message":"column m.xa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.xa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:17:33"}
{"code":"42703","level":"error","message":"column m.xa does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        m.xa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:17:55"}
{"level":"error","message":"column m.xa does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.xa does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:86:20)","statusCode":500,"timestamp":"2025-10-22 16:17:55"}
{"code":"42703","level":"error","message":"column m.lo_canbao does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        NULL as xa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:19:13"}
{"level":"error","message":"column m.lo_canbao does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.lo_canbao does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:88:20)","statusCode":500,"timestamp":"2025-10-22 16:19:13"}
{"code":"42703","level":"error","message":"column m.lo_canbao does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        NULL as xa,\n        m.lo_canbao,\n        m.tk,\n        m.khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:19:34"}
{"level":"error","message":"column m.lo_canbao does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.lo_canbao does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:88:20)","statusCode":500,"timestamp":"2025-10-22 16:19:34"}
{"code":"42703","level":"error","message":"column m.x does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        NULL as xa,\n        NULL as lo_canbao,\n        NULL as tk,\n        NULL as khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:20:11"}
{"level":"error","message":"column m.x does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.x does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:88:20)","statusCode":500,"timestamp":"2025-10-22 16:20:11"}
{"code":"42703","level":"error","message":"column m.x does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        NULL as xa,\n        NULL as lo_canbao,\n        NULL as tk,\n        NULL as khoanh,\n        m.x,\n        m.y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:20:31"}
{"level":"error","message":"column m.x does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.x does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:88:20)","statusCode":500,"timestamp":"2025-10-22 16:20:31"}
{"code":"42703","level":"error","message":"column m.dtich does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        NULL as xa,\n        NULL as lo_canbao,\n        NULL as tk,\n        NULL as khoanh,\n        NULL as x,\n        NULL as y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:21:07"}
{"level":"error","message":"column m.dtich does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.dtich does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:88:20)","statusCode":500,"timestamp":"2025-10-22 16:21:07"}
{"code":"42703","level":"error","message":"column m.dtich does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        NULL as xa,\n        NULL as lo_canbao,\n        NULL as tk,\n        NULL as khoanh,\n        NULL as x,\n        NULL as y,\n        m.dtich,\n        m.dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      WHERE m.geom IS NOT NULL\n      ORDER BY m.gid DESC\n      LIMIT $1\n    ","service":"search-service","timestamp":"2025-10-22 16:21:28"}
{"level":"error","message":"column m.dtich does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: column m.dtich does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:88:20)","statusCode":500,"timestamp":"2025-10-22 16:21:28"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-22 20:15:21"}
{"code":"42P01","level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        r.xa,\n        CONCAT('CB-', m.gid) as lo_canbao,\n        r.tieukhu as tk,\n        r.khoanh,\n        ROUND(ST_X(ST_Centroid(ST_Transform(m.geom, 4326)))) as x,\n        ROUND(ST_Y(ST_Centroid(ST_Transform(m.geom, 4326)))) as y,\n        m.area as dtich,\n        m.verified_area as dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        convertTcvn3ToUnicode(r.huyen) as huyen_name,\n        convertTcvn3ToUnicode(r.xa) as xa_name,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      LEFT JOIN laocai_ranhgioihc r ON ST_Intersects(ST_Transform(m.geom, 4326), ST_Transform(r.geom, 4326))\n      WHERE m.geom IS NOT NULL AND m.detection_status = $1 AND m.detection_date >= $2 AND m.detection_date <= $3 AND m.mahuyen = $4\n      ORDER BY m.gid DESC\n      LIMIT $5\n    ","service":"search-service","timestamp":"2025-10-22 21:24:13"}
{"level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: relation \"laocai_ranhgioihc\" does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:91:20)","statusCode":500,"timestamp":"2025-10-22 21:24:13"}
{"code":"42P01","level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        r.xa,\n        CONCAT('CB-', m.gid) as lo_canbao,\n        r.tieukhu as tk,\n        r.khoanh,\n        ROUND(ST_X(ST_Centroid(ST_Transform(m.geom, 4326)))) as x,\n        ROUND(ST_Y(ST_Centroid(ST_Transform(m.geom, 4326)))) as y,\n        m.area as dtich,\n        m.verified_area as dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        convertTcvn3ToUnicode(r.huyen) as huyen_name,\n        convertTcvn3ToUnicode(r.xa) as xa_name,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      LEFT JOIN laocai_ranhgioihc r ON ST_Intersects(ST_Transform(m.geom, 4326), ST_Transform(r.geom, 4326))\n      WHERE m.geom IS NOT NULL AND m.detection_status = $1 AND m.detection_date >= $2 AND m.detection_date <= $3 AND m.mahuyen = $4\n      ORDER BY m.gid DESC\n      LIMIT $5\n    ","service":"search-service","timestamp":"2025-10-22 21:25:21"}
{"level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: relation \"laocai_ranhgioihc\" does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:91:20)","statusCode":500,"timestamp":"2025-10-22 21:25:21"}
{"code":"42P01","level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        r.xa,\n        CONCAT('CB-', m.gid) as lo_canbao,\n        r.tieukhu as tk,\n        r.khoanh,\n        ROUND(ST_X(ST_Centroid(ST_Transform(m.geom, 4326)))) as x,\n        ROUND(ST_Y(ST_Centroid(ST_Transform(m.geom, 4326)))) as y,\n        m.area as dtich,\n        m.verified_area as dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        convertTcvn3ToUnicode(r.huyen) as huyen_name,\n        convertTcvn3ToUnicode(r.xa) as xa_name,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      LEFT JOIN laocai_ranhgioihc r ON ST_Intersects(ST_Transform(m.geom, 4326), ST_Transform(r.geom, 4326))\n      WHERE m.geom IS NOT NULL AND m.detection_status = $1 AND m.detection_date >= $2 AND m.detection_date <= $3 AND m.mahuyen = $4\n      ORDER BY m.gid DESC\n      LIMIT $5\n    ","service":"search-service","timestamp":"2025-10-22 21:53:16"}
{"level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: relation \"laocai_ranhgioihc\" does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:91:20)","statusCode":500,"timestamp":"2025-10-22 21:53:16"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 11:48:00"}
{"code":"42P01","level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        r.xa,\n        CONCAT('CB-', m.gid) as lo_canbao,\n        r.tieukhu as tk,\n        r.khoanh,\n        ROUND(ST_X(ST_Centroid(ST_Transform(m.geom, 4326)))) as x,\n        ROUND(ST_Y(ST_Centroid(ST_Transform(m.geom, 4326)))) as y,\n        m.area as dtich,\n        m.verified_area as dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        convertTcvn3ToUnicode(r.huyen) as huyen_name,\n        convertTcvn3ToUnicode(r.xa) as xa_name,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      LEFT JOIN laocai_ranhgioihc r ON ST_Intersects(ST_Transform(m.geom, 4326), ST_Transform(r.geom, 4326))\n      WHERE m.geom IS NOT NULL AND m.detection_date >= $1 AND m.detection_date <= $2 AND m.mahuyen = $3\n      ORDER BY m.gid DESC\n      LIMIT $4\n    ","service":"search-service","timestamp":"2025-10-24 11:48:45"}
{"level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: relation \"laocai_ranhgioihc\" does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:91:20)","statusCode":500,"timestamp":"2025-10-24 11:48:45"}
{"code":"42P01","level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","query":"\n      SELECT\n        m.gid,\n        m.area,\n        m.start_dau,\n        m.end_sau,\n        m.mahuyen,\n        r.xa,\n        CONCAT('CB-', m.gid) as lo_canbao,\n        r.tieukhu as tk,\n        r.khoanh,\n        ROUND(ST_X(ST_Centroid(ST_Transform(m.geom, 4326)))) as x,\n        ROUND(ST_Y(ST_Centroid(ST_Transform(m.geom, 4326)))) as y,\n        m.area as dtich,\n        m.verified_area as dtichXM,\n        m.verification_reason,\n        m.detection_status,\n        m.verification_notes,\n        convertTcvn3ToUnicode(r.huyen) as huyen_name,\n        convertTcvn3ToUnicode(r.xa) as xa_name,\n        ST_AsGeoJSON(ST_Transform(m.geom, 4326)) as geometry\n      FROM mat_rung m\n      LEFT JOIN laocai_ranhgioihc r ON ST_Intersects(ST_Transform(m.geom, 4326), ST_Transform(r.geom, 4326))\n      WHERE m.geom IS NOT NULL AND m.detection_date >= $1 AND m.detection_date <= $2 AND m.mahuyen = $3\n      ORDER BY m.gid DESC\n      LIMIT $4\n    ","service":"search-service","timestamp":"2025-10-24 11:50:33"}
{"level":"error","message":"relation \"laocai_ranhgioihc\" does not exist","method":"GET","name":"error","path":"/api/search/mat-rung","service":"search-service","stack":"error: relation \"laocai_ranhgioihc\" does not exist\n    at /home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/node_modules/pg-pool/index.js:45:11\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async DatabaseManager.query (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/shared/database/index.js:81:22)\n    at async exports.searchMatRung (/home/luckyboiz/LuckyBoiz/Projects/Reacts/DuBaoMatRung/microservices/services/search-service/src/controllers/search.controller.js:91:20)","statusCode":500,"timestamp":"2025-10-24 11:50:33"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 11:51:42"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 11:52:43"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 11:53:01"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 11:53:15"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 14:49:53"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 14:50:03"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:12:41"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:12:41"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:13:53"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:43:20"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:43:20"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:43:20"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:02"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:02"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:02"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:03"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:03"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:03"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:03"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:03"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:03"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:41"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:41"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:41"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:42"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:42"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 15:44:42"}
{"address":"0.0.0.0","code":"EADDRINUSE","errno":-98,"level":"error","message":"Server error: listen EADDRINUSE: address already in use 0.0.0.0:3006","port":3006,"service":"search-service","stack":"Error: listen EADDRINUSE: address already in use 0.0.0.0:3006\n    at Server.setupListenHandle [as _listen2] (node:net:1908:16)\n    at listenInCluster (node:net:1965:12)\n    at doListen (node:net:2139:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:83:21)","syscall":"listen","timestamp":"2025-10-24 22:16:41"}
