# ===================================================================
# Environment Variables - Du Bao Mat Rung
# ===================================================================
# Copy file này thành .env và điền thông tin thực tế
# KHÔNG commit file .env vào git!

# ===================================================================
# DATABASE
# ===================================================================

# Database password (dùng chung cho tất cả PostgreSQL instances)
# Production: Dùng password mạnh, tối thiểu 16 ký tự
# Development: Có thể dùng password đơn giản hơn
DB_PASSWORD=postgres123

# ===================================================================
# AUTHENTICATION
# ===================================================================

# JWT Secret key để sign tokens
# QUAN TRỌNG: Dùng random string tối thiểu 32 ký tự
# Generate với: openssl rand -base64 32
JWT_SECRET=your_jwt_secret_key_minimum_32_characters_long

# JWT Token expiry (default: 24h)
JWT_EXPIRES_IN=24h

# JWT Refresh Token expiry (default: 7d)
JWT_REFRESH_EXPIRES_IN=7d

# ===================================================================
# FRONTEND
# ===================================================================

# API URL cho frontend
# Development: http://localhost:3000
# Production: http://<your-server-ip>:3000 hoặc https://yourdomain.com
VITE_API_URL=http://103.56.161.239:3000

# Frontend URL (for CORS)
FRONTEND_URL=http://103.56.161.239:5173

# ===================================================================
# NODE ENVIRONMENT
# ===================================================================

# Environment mode: development | production | test
NODE_ENV=production

# ===================================================================
# SERVICE PORTS (Optional - defaults in docker-compose.yml)
# ===================================================================

# Gateway
GATEWAY_PORT=3000

# Microservices
AUTH_SERVICE_PORT=3001
USER_SERVICE_PORT=3002
GIS_SERVICE_PORT=3003
REPORT_SERVICE_PORT=3004
ADMIN_SERVICE_PORT=3005
SEARCH_SERVICE_PORT=3006
MAPSERVER_SERVICE_PORT=3007

# Databases
POSTGRES_PORT=5432
POSTGIS_PORT=5433
ADMIN_POSTGIS_PORT=5434
MONGODB_PORT=27017
REDIS_PORT=6379

# Frontend
CLIENT_PORT=5173

# ===================================================================
# OPTIONAL CONFIGURATIONS
# ===================================================================

# File upload size limit (bytes)
MAX_FILE_SIZE=104857600

# Redis cache TTL (seconds)
REDIS_CACHE_TTL=3600

# Log level: error | warn | info | debug
LOG_LEVEL=info

# Enable CORS (comma-separated origins)
CORS_ORIGINS=http://localhost:5173,http://103.56.161.239:5173

# ===================================================================
# PRODUCTION CHECKLIST
# ===================================================================
# Trước khi deploy production, đảm bảo:
# [ ] DB_PASSWORD: Đổi password mạnh
# [ ] JWT_SECRET: Generate random string >= 32 chars
# [ ] VITE_API_URL: Đổi thành domain/IP thực tế
# [ ] NODE_ENV: Set thành "production"
# [ ] CORS_ORIGINS: Chỉ cho phép domains tin cậy
# [ ] File .env không commit vào git (check .gitignore)
